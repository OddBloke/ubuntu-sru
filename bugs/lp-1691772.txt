http://pad.lv/1691772
https://bugs.launchpad.net/ubuntu/+source/cloud-init/+bug/1691772

=== Begin SRU Template ===
[Impact]
In bug 1660385, we made imitating the EC2 datasource more difficult.
By design, that broke some users or platforms who have done so in the past.

The change here gives users who were using the Ubuntu images in a low-tech
"No Cloud" fashion an easier way to regain that functionality.

The solution was to read the 'system-serial-number' field in DMI data and
consider it as as input to the nocloud datasource in a similar way to
what we had done in the past with the kernel command line.

[Test Case]
FIXME

[Regression Potential]
The code attempts to parse the 'system-serial-number' entry in dmi data as a
string with data in it.  If that field had the string 'ds=nocloud' that was
not intended as consumable for cloud-init, a false positive could occur and
an exception cause the NoCloud datasource to not read data from another
location.

This seems somewhat unlikely and other paths should result in simply no
new action being taken.

[Other Info]
Upstream commit at
  https://git.launchpad.net/cloud-init/commit/?id=802e7cb2da8

=== End SRU Template ===
